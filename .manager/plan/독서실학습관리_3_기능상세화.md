# 기능 상세화

## 학생 웹 상세 (반응형 웹사이트, 앱 아님)

### 회원가입/로그인

**화면/작업 구성**:
- 로그인 화면: 이메일/비밀번호 입력, 로그인 버튼, 소셜 로그인 버튼 (카카오)
- 회원가입 화면: 이메일, 비밀번호, 이름, 전화번호, 좌석번호 입력 폼
- 소셜 로그인 처리: OAuth 연동 및 사용자 정보 저장

**주요 처리**:
- 이메일 중복 확인
- 비밀번호 암호화
- 로그인 세션 생성
- 학부모 연결 코드 자동 생성

---

### 메인 대시보드

**화면/작업 구성**:
- 메인 화면: 입실/퇴실/외출 상태 표시, 오늘의 학습시간 (실시간 증가), 주간 목표 시간, 달성률
- 상태 표시: 현재 상태 아이콘 및 텍스트

**주요 처리**:
- CAPS API로부터 입실/퇴실 데이터 실시간 조회
- 학습시간 실시간 계산 (입실 시간만 누적)
- 달성률 계산 (학습시간 / 목표시간)

---

### 등원 예정시간 목표 설정

**화면/작업 구성**:
- 목표 설정 화면: 등원 예정 시간 선택 (시/분), 저장 버튼
- 목표 확인 화면: 설정된 목표 시간 표시, 수정 버튼

**주요 처리**:
- 목표 시간 저장
- 실제 입실 시간과 목표 시간 비교
- 지각 시 자동 벌점 부여 처리
- 목표 달성 시 자동 상점 부여 처리

---

### 학습 과목 설정

**화면/작업 구성**:
- 과목 선택 화면: 과목 목록 (국어, 수학, 영어 등), 선택 버튼
- 현재 과목 표시: 선택된 과목 아이콘/텍스트

**주요 처리**:
- 과목 변경 저장
- 관리자 대시보드에 실시간 반영

---

### 몰입도 확인

**화면/작업 구성**:
- 몰입도 현황 화면: 오늘의 몰입도 점수, 과목별 몰입도
- 주간 리포트 화면: 주간 단위 몰입도 그래프, 과목별 비중 차트

**주요 처리**:
- 관리자가 입력한 몰입도 데이터 조회
- 주간 통계 계산 및 표시

---

### 상벌점 내역

**화면/작업 구성**:
- 상벌점 목록 화면: 날짜, 사유, 점수 리스트
- 총점 표시: 누적 상점/벌점

**주요 처리**:
- 상벌점 내역 조회
- 누적 점수 계산

---

### 3자 채팅

**화면/작업 구성**:
- 채팅방 화면: 메시지 목록, 입력창, 전송 버튼
- 채팅방 목록: 학부모-관리자 포함 채팅방

**주요 처리**:
- 메시지 전송/수신
- 실시간 메시지 업데이트
- 읽음 표시

---

## 학부모 웹 상세 (반응형 웹사이트, 앱 아님)

### 회원가입/로그인

**화면/작업 구성**:
- 로그인 화면: 이메일/비밀번호 입력, 로그인 버튼
- 회원가입 화면: 이메일, 비밀번호, 이름, 전화번호, 학생 연결 코드 입력 폼

**주요 처리**:
- 학생 코드 검증
- 학생-학부모 연결

---

### 학생 상태 확인

**화면/작업 구성**:
- 학생 현황 화면: 학생 입실/퇴실/외출 상태, 현재 학습 과목, 오늘 학습시간, 몰입도 점수

**주요 처리**:
- 연결된 학생 데이터 조회
- 실시간 상태 업데이트

---

### 스케줄 승인

**화면/작업 구성**:
- 승인 대기 목록: 학생이 등록한 스케줄 목록
- 승인/거부 버튼: 각 항목별 승인/거부

**주요 처리**:
- 스케줄 승인 처리
- 승인 완료 알림 발송

---

### 3자 채팅

**화면/작업 구성**:
- 채팅방 화면: 학생-관리자 포함 채팅
- 채팅방 목록

**주요 처리**:
- 메시지 전송/수신
- 실시간 업데이트

---

## 관리자 웹사이트 상세

### 관리자 로그인

**화면/작업 구성**:
- 로그인 화면: 관리자 ID/비밀번호 입력

**주요 처리**:
- 관리자 인증
- 권한 확인

---

### 학생 현황 대시보드

**화면/작업 구성**:
- 전체 학생 목록 화면: 좌석번호, 이름, 입실/퇴실/외출 상태, 현재 학습 과목, 오늘 학습시간
- 필터/정렬: 상태별 필터, 과목별 필터
- 과목 직접 입력 모달: 학생 선택 후 과목 입력

**주요 처리**:
- CAPS 데이터 기반 학생 상태 조회
- 과목 미설정 학생 하이라이트
- 관리자가 과목 직접 입력 시 저장

---

### 몰입도 관리

**화면/작업 구성**:
- 몰입도 입력 화면: 학생 선택, 몰입도 점수 선택 (완전몰입 10점, 인강 8점, 졸음 5점 등), 저장
- 몰입도 리포트 화면: 학생별 주간 몰입도 리스트, 정렬 기능 (점수순, 이름순)
- 리포트 출력 기능: PDF/엑셀 다운로드

**주요 처리**:
- 몰입도 점수 저장
- 주간 리포트 생성
- 과목별 비중 계산

---

### 상벌점 관리

**화면/작업 구성**:
- 상벌점 현황 화면: 학생별 상벌점 목록
- 수동 입력 화면: 학생 선택, 상점/벌점 선택, 사유 입력, 점수 입력
- 자동 부여 설정: 지각 벌점, 목표 달성 상점 규칙 설정

**주요 처리**:
- 상벌점 저장
- 자동 부여 로직 실행
- 통계 조회

---

### 학부모 알림 관리 (카카오 알림톡)

**화면/작업 구성**:
- 알림 발송 현황: 발송된 알림톡 목록
- 자동 알림 설정: 지각, 결석 시 자동 발송 규칙

**주요 처리**:
- 지각/결석 감지 시 학부모에게 카카오 알림톡 자동 발송
- 알림 발송 기록 저장

**⚠️ 참고**: 웹 푸시 알림이 아닌 카카오 알림톡으로 발송 (iOS 웹 푸시 제한으로 인해 알림톡 사용)

---

### 학생/학부모 관리

**화면/작업 구성**:
- 학생 목록 화면: 전체 학생 리스트, 상세 정보
- 학부모 목록 화면: 전체 학부모 리스트, 연결된 학생 정보
- 학생 상세 화면: 프로필, 학습 이력, 상벌점

**주요 처리**:
- 학생/학부모 정보 조회
- 정보 수정

---

### 데이터 다운로드

**화면/작업 구성**:
- 다운로드 화면: 데이터 유형 선택 (학생 목록, 학습시간, 몰입도, 상벌점), 기간 선택, 다운로드 버튼

**주요 처리**:
- 선택 조건에 따른 데이터 추출
- 엑셀 파일 생성 및 다운로드

---

### 3자 채팅 관리

**화면/작업 구성**:
- 채팅방 목록: 전체 채팅방 리스트
- 채팅 화면: 학생-학부모와 함께 채팅

**주요 처리**:
- 메시지 전송/수신
- 채팅 내역 관리

---

## 시스템 통합 상세

### CAPS API 연동

**작업 구성**:
- API 연동 개발: 입실/퇴실 데이터 조회
- 데이터 동기화: 주기적 데이터 동기화

**주요 처리**:
- CAPS 시스템에서 제공하는 API 호출
- 입실/퇴실 이벤트 처리
- 학습시간 자동 계산

---

### 카카오 알림톡 시스템

**작업 구성**:
- 카카오 비즈니스 알림톡 API 연동
- 알림 발송 서비스 구축

**주요 처리**:
- 학부모 전화번호 기반 알림톡 발송
- 조건별 자동 발송 (지각/결석)
- 발송 기록 저장

**⚠️ 참고**: 앱 푸시 알림이 아닌 카카오 알림톡 (웹 기반 서비스이므로)

---

### 서버 및 배포

**작업 구성**:
- 서버 구축
- SSL 설정
- 도메인 연결
- IP 허용 가이드 문서 작성

**주요 처리**:
- 안정적인 서비스 운영 환경 구축
